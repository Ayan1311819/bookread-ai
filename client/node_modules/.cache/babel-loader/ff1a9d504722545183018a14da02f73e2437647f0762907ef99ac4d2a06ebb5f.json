{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\OneDrive\\\\Desktop\\\\bookread-ai\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useNavigate, useLocation } from 'react-router-dom';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport 'react-pdf/dist/Page/AnnotationLayer.css';\nimport 'react-pdf/dist/Page/TextLayer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.mjs';\nfunction HomePage() {\n  _s();\n  const navigate = useNavigate();\n  const handleFileUpload = async event => {\n    const formData = new FormData();\n    const file = event.target.files[0];\n    formData.append('file', file);\n    try {\n      const response = await fetch('http://localhost:5000/api/upload', {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      const filename = file.name;\n      navigate(`/${filename}`, {\n        state: {\n          fileUrl: `http://localhost:5000${data.filePath}`,\n          originalName: filename,\n          uploadedFilename: data.filePath.split('/').pop()\n        }\n      });\n    } catch (error) {\n      console.error('Upload failed:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83D\\uDCDA BookRead AI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Upload a PDF to start reading and asking AI questions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".pdf\",\n      onChange: handleFileUpload,\n      className: \"upload-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nfunction PDFViewerPage() {\n  _s2();\n  var _location$state, _location$state2;\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [selectedText, setSelectedText] = useState('');\n  const [aiQuery, setAiQuery] = useState('');\n  const [aiResponse, setAiResponse] = useState('');\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const fileUrl = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.fileUrl;\n  const originalName = (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.originalName;\n  if (!fileUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-file\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No PDF file found. Please upload a file first.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n    setPageNumber(1);\n  };\n  const handleTextSelection = () => {\n    setTimeout(() => {\n      const selection = window.getSelection();\n      const selected = selection.toString().trim();\n      if (selected.length > 0) {\n        try {\n          const range = selection.getRangeAt(0);\n          const rect = range.getBoundingClientRect();\n          setTooltipPosition({\n            x: rect.left + rect.width / 2,\n            y: rect.top - 10 + window.scrollY\n          });\n          setShowTooltip(true);\n        } catch {\n          setShowTooltip(false);\n        }\n      } else {\n        setShowTooltip(false);\n      }\n    }, 100);\n  };\n  const handleCopy = () => {\n    const selection = window.getSelection();\n    navigator.clipboard.writeText(selection.toString());\n    setShowTooltip(false);\n  };\n  const handleAskAI = () => {\n    const selection = window.getSelection();\n    setSelectedText(selection.toString());\n    setShowTooltip(false);\n    setTimeout(() => {\n      const input = document.querySelector('.ai-query-input');\n      if (input) input.focus();\n    }, 100);\n  };\n  const handleClickOutside = e => {\n    if (!e.target.closest('.selection-tooltip')) setShowTooltip(false);\n  };\n  const queryAI = async () => {\n    if (!selectedText || !aiQuery) {\n      alert('Please select text and enter a query');\n      return;\n    }\n    try {\n      const response = await fetch('http://localhost:5000/api/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: selectedText,\n          prompt: aiQuery,\n          filename: location.state.uploadedFilename,\n          filePath: new URL(fileUrl).pathname,\n          pageNumber: pageNumber\n        })\n      });\n      const data = await response.json();\n      setAiResponse(data.response);\n    } catch (error) {\n      console.error('AI query failed:', error);\n      setAiResponse('Error: Failed to query AI');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"viewer-container\",\n    onClick: handleClickOutside,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewer-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\uD83D\\uDCD6 \", originalName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        children: \"\\u2190 Upload New PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), showTooltip && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selection-tooltip\",\n      style: {\n        left: tooltipPosition.x,\n        top: tooltipPosition.y\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCopy,\n        children: \"\\uD83D\\uDCCB Copy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAskAI,\n        children: \"\\uD83E\\uDD16 Ask AI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewer-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pdf-viewer\",\n        children: [/*#__PURE__*/_jsxDEV(Document, {\n          file: fileUrl,\n          onLoadSuccess: onDocumentLoadSuccess,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            onMouseUp: handleTextSelection,\n            onTouchEnd: handleTextSelection,\n            children: /*#__PURE__*/_jsxDEV(Page, {\n              pageNumber: pageNumber,\n              width: 600\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), numPages && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPageNumber(pageNumber - 1),\n            disabled: pageNumber <= 1,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Page \", pageNumber, \" of \", numPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPageNumber(pageNumber + 1),\n            disabled: pageNumber >= numPages,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83E\\uDD16 Ask AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), selectedText && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-text-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Selected Text:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: selectedText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"ai-query-input\",\n          placeholder: \"Ask a question about the selected text...\",\n          value: aiQuery,\n          onChange: e => setAiQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: queryAI,\n          disabled: !selectedText || !aiQuery,\n          children: \"Ask AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), aiResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-response\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"AI Response:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: aiResponse\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n_s2(PDFViewerPage, \"VVJ8h/eU7gfjD1Rli/y5TylMCs4=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c2 = PDFViewerPage;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/:filename\",\n        element: /*#__PURE__*/_jsxDEV(PDFViewerPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"HomePage\");\n$RefreshReg$(_c2, \"PDFViewerPage\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","useNavigate","useLocation","Document","Page","pdfjs","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","HomePage","_s","navigate","handleFileUpload","event","formData","FormData","file","target","files","append","response","fetch","method","body","data","json","filename","name","state","fileUrl","filePath","originalName","uploadedFilename","split","pop","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","_c","PDFViewerPage","_s2","_location$state","_location$state2","location","numPages","setNumPages","pageNumber","setPageNumber","selectedText","setSelectedText","aiQuery","setAiQuery","aiResponse","setAiResponse","showTooltip","setShowTooltip","tooltipPosition","setTooltipPosition","x","y","onClick","onDocumentLoadSuccess","handleTextSelection","setTimeout","selection","window","getSelection","selected","toString","trim","length","range","getRangeAt","rect","getBoundingClientRect","left","width","top","scrollY","handleCopy","navigator","clipboard","writeText","handleAskAI","input","document","querySelector","focus","handleClickOutside","e","closest","queryAI","alert","headers","JSON","stringify","text","prompt","URL","pathname","style","onLoadSuccess","onMouseUp","onTouchEnd","disabled","placeholder","value","_c2","App","path","element","_c3","$RefreshReg$"],"sources":["C:/Users/Hp/OneDrive/Desktop/bookread-ai/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useNavigate, useLocation } from 'react-router-dom';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport 'react-pdf/dist/Page/AnnotationLayer.css';\nimport 'react-pdf/dist/Page/TextLayer.css';\n\npdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.mjs';\n\nfunction HomePage() {\n  const navigate = useNavigate();\n\n  const handleFileUpload = async (event) => {\n    const formData = new FormData();\n    const file = event.target.files[0];\n    formData.append('file', file);\n\n    try {\n      const response = await fetch('http://localhost:5000/api/upload', {\n        method: 'POST',\n        body: formData,\n      });\n      const data = await response.json();\n\n      const filename = file.name;\n      navigate(`/${filename}`, {\n        state: {\n          fileUrl: `http://localhost:5000${data.filePath}`,\n          originalName: filename,\n          uploadedFilename: data.filePath.split('/').pop(),\n        },\n      });\n    } catch (error) {\n      console.error('Upload failed:', error);\n    }\n  };\n\n  return (\n    <div className=\"home-container\">\n      <h1>📚 BookRead AI</h1>\n      <p>Upload a PDF to start reading and asking AI questions</p>\n      <input type=\"file\" accept=\".pdf\" onChange={handleFileUpload} className=\"upload-input\" />\n    </div>\n  );\n}\n\nfunction PDFViewerPage() {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [selectedText, setSelectedText] = useState('');\n  const [aiQuery, setAiQuery] = useState('');\n  const [aiResponse, setAiResponse] = useState('');\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n\n  const fileUrl = location.state?.fileUrl;\n  const originalName = location.state?.originalName;\n\n  if (!fileUrl) {\n    return (\n      <div className=\"no-file\">\n        <p>No PDF file found. Please upload a file first.</p>\n        <button onClick={() => navigate('/')}>Go Back</button>\n      </div>\n    );\n  }\n\n  const onDocumentLoadSuccess = ({ numPages }) => {\n    setNumPages(numPages);\n    setPageNumber(1);\n  };\n\n  const handleTextSelection = () => {\n    setTimeout(() => {\n      const selection = window.getSelection();\n      const selected = selection.toString().trim();\n\n      if (selected.length > 0) {\n        try {\n          const range = selection.getRangeAt(0);\n          const rect = range.getBoundingClientRect();\n          setTooltipPosition({ x: rect.left + rect.width / 2, y: rect.top - 10 + window.scrollY });\n          setShowTooltip(true);\n        } catch {\n          setShowTooltip(false);\n        }\n      } else {\n        setShowTooltip(false);\n      }\n    }, 100);\n  };\n\n  const handleCopy = () => {\n    const selection = window.getSelection();\n    navigator.clipboard.writeText(selection.toString());\n    setShowTooltip(false);\n  };\n\n  const handleAskAI = () => {\n    const selection = window.getSelection();\n    setSelectedText(selection.toString());\n    setShowTooltip(false);\n    setTimeout(() => {\n      const input = document.querySelector('.ai-query-input');\n      if (input) input.focus();\n    }, 100);\n  };\n\n  const handleClickOutside = (e) => {\n    if (!e.target.closest('.selection-tooltip')) setShowTooltip(false);\n  };\n\n  const queryAI = async () => {\n    if (!selectedText || !aiQuery) {\n      alert('Please select text and enter a query');\n      return;\n    }\n\n    try {\n      const response = await fetch('http://localhost:5000/api/query', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          text: selectedText,\n          prompt: aiQuery,\n          filename: location.state.uploadedFilename,\n          filePath: new URL(fileUrl).pathname,\n          pageNumber: pageNumber,\n        }),\n      });\n\n      const data = await response.json();\n      setAiResponse(data.response);\n    } catch (error) {\n      console.error('AI query failed:', error);\n      setAiResponse('Error: Failed to query AI');\n    }\n  };\n\n  return (\n    <div className=\"viewer-container\" onClick={handleClickOutside}>\n      <div className=\"viewer-header\">\n        <h2>📖 {originalName}</h2>\n        <button onClick={() => navigate('/')}>← Upload New PDF</button>\n      </div>\n\n      {showTooltip && (\n        <div className=\"selection-tooltip\" style={{ left: tooltipPosition.x, top: tooltipPosition.y }}>\n          <button onClick={handleCopy}>📋 Copy</button>\n          <button onClick={handleAskAI}>🤖 Ask AI</button>\n        </div>\n      )}\n\n      <div className=\"viewer-content\">\n        <div className=\"pdf-viewer\">\n          <Document file={fileUrl} onLoadSuccess={onDocumentLoadSuccess}>\n            <div onMouseUp={handleTextSelection} onTouchEnd={handleTextSelection}>\n              <Page pageNumber={pageNumber} width={600} />\n            </div>\n          </Document>\n\n          {numPages && (\n            <div className=\"page-controls\">\n              <button onClick={() => setPageNumber(pageNumber - 1)} disabled={pageNumber <= 1}>Previous</button>\n              <span>Page {pageNumber} of {numPages}</span>\n              <button onClick={() => setPageNumber(pageNumber + 1)} disabled={pageNumber >= numPages}>Next</button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"ai-panel\">\n          <h3>🤖 Ask AI</h3>\n\n          {selectedText && (\n            <div className=\"selected-text-box\">\n              <strong>Selected Text:</strong>\n              <div>{selectedText}</div>\n            </div>\n          )}\n\n          <input\n            type=\"text\"\n            className=\"ai-query-input\"\n            placeholder=\"Ask a question about the selected text...\"\n            value={aiQuery}\n            onChange={(e) => setAiQuery(e.target.value)}\n          />\n\n          <button onClick={queryAI} disabled={!selectedText || !aiQuery}>Ask AI</button>\n\n          {aiResponse && (\n            <div className=\"ai-response\">\n              <strong>AI Response:</strong>\n              <div>{aiResponse}</div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<HomePage />} />\n        <Route path=\"/:filename\" element={<PDFViewerPage />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}